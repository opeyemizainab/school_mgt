{% extends "base.html" %}
{% block title %}Student Dashboard{% endblock %}

{% block content %}
<div class="d-flex" style="min-height: 100vh;">

    <!-- Sidebar -->
    <div class="sidebar bg-dark text-white p-3" style="width: 240px;">
        <h4 class="mb-4">Student Panel</h4>
        <a href="{% url 'student_dashboard' %}" class="btn w-100 text-start mb-2 {% if request.resolver_match.url_name == 'student_dashboard' %}btn-primary{% else %}btn-outline-light{% endif %}">
            <i class="bi bi-speedometer2 me-2"></i> Dashboard
        </a>
        <a href="{% url 'student_view_results' %}" class="btn w-100 text-start mb-2 {% if request.resolver_match.url_name == 'student_view_results' %}btn-primary{% else %}btn-outline-light{% endif %}">
            <i class="bi bi-file-earmark-text me-2"></i> My Results
        </a>
        <a href="{% url 'student_profile' %}" class="btn w-100 text-start mb-2 {% if request.resolver_match.url_name == 'student_profile' %}btn-primary{% else %}btn-outline-light{% endif %}">
            <i class="bi bi-person-circle me-2"></i> My Profile
        </a>
        <a href="{% url 'available_cbts' %}" class="btn w-100 text-start mb-2 {% if request.resolver_match.url_name == 'available_cbts' %}btn-primary{% else %}btn-outline-light{% endif %}">
            <i class="bi bi-pencil-square me-2"></i> Available CBTs
        </a>
        <a href="{% url 'view_cbt_results' %}" class="btn w-100 text-start mb-2 {% if request.resolver_match.url_name == 'view_cbt_results' %}btn-primary{% else %}btn-outline-light{% endif %}">
            <i class="bi bi-bar-chart-line me-2"></i> CBT Results
        </a>
        <a href="{% url 'logout' %}" class="btn btn-danger w-100 text-start mt-4">
            <i class="bi bi-box-arrow-right me-2"></i> Logout
        </a>
    </div>

    <!-- Main content -->
    <div class="flex-grow-1 p-4">
        <div class="container bg-white rounded shadow-sm p-4">
            <h2 class="text-primary mb-3">Welcome, {{ request.user.get_full_name }}</h2>
            <p class="text-muted">This is your personalized dashboard. Use the menu to navigate.</p>

            <!-- Example cards -->
            <div class="row mt-4">
                <div class="col-md-6 mb-3">
                    <div class="card border-0 shadow-sm h-100">
                        <div class="card-body text-center">
                            <i class="bi bi-file-earmark-text fs-1 text-primary"></i>
                            <h5 class="mt-3">My Results</h5>
                            <p class="text-muted">View only your academic results and performance.</p>
                            <a href="{% url 'student_view_results' %}" class="btn btn-outline-primary">View Results</a>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 mb-3">
                    <div class="card border-0 shadow-sm h-100">
                        <div class="card-body text-center">
                            <i class="bi bi-pencil-square fs-1 text-success"></i>
                            <h5 class="mt-3">Available CBTs</h5>
                            <p class="text-muted">Take computer-based tests assigned to you.</p>
                            <a href="{% url 'available_cbts' %}" class="btn btn-outline-success">Start CBT</a>
                        </div>
                    </div>
                </div>
            </div>
            
        </div>
    </div>

</div>
{% endblock %}
